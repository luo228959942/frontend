<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    /*let arry = [
        {
            name: "zhansan",
            age: 23,
            sex: 1
        },
        {
            name: "lisi",
            age: 19,
            sex: 0
        }
    ];
    let obj2 = arry.reduce(function (obj3, item) {
        return obj3;
    }, {});
    console.log(obj2);*/

    const api = 'http://localhost:3001';

    let token = localStorage.token;

    if (!token)
        token = localStorage.token = Math.random().toString(36).substr(-8);

    const headers = {
        'Accept': 'application/json',
        'Authorization': token
    };

    fetch(`${api}/categories`, {headers})
        .then(res => res.json())
        .then(data => {
            console.log(data);
        });

    fetch(`${api}/posts`, {headers})
        .then(res => res.json())
        .then(data => {
            console.log(data);
            let obj2 = data.reduce((obj3, item) => {
                obj3[item.id] = item;
                return obj3;
            }, {});
            console.log(obj2);
            let arry=[];
            for(key in obj2){
                // console.log(obj2[key]);
                arry.push(obj2[key]);
            }
            console.log(arry);
            return arry;
        });
    //    8xf0y6ziyjabvozdd253nd

    /*fetch(`${api}/posts/8xf0y6ziyjabvozdd253nd`, {headers})
        .then(res => res.json())
        .then(data => {
            console.log(data);
        });

//    posts/${contact.id}/comments
    fetch(`${api}/posts/8xf0y6ziyjabvozdd253nd/comments`, {headers})
        .then(res => res.json())
        .then(data => {
            console.log(data);
        });

    //894tuq4ut84ut8v4t8wun89g
    fetch(`${api}/comments/894tuq4ut84ut8v4t8wun89g`, {headers})
        .then(res => res.json())
        .then(data => {
            console.log(data);
        });*/


</script>

</body>
</html>